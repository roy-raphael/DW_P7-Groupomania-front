<mat-card class="card-with-dots-button post-card">
    <mat-card-header>
        <mat-card-title>
            <span highlight>{{ { firstName: post.author.firstName, lastName: post.author.surName, pseudo: post.author.pseudo } | username }}</span>
        </mat-card-title>
        <mat-card-subtitle>
            <span>{{ post.createdAt | timeAgo }}</span>
        </mat-card-subtitle>
        <button mat-icon-button *ngIf="canEditAndDelete" [matMenuTriggerFor]="menu" aria-label="Example icon-button with a menu">
            <mat-icon>more_vert</mat-icon>
        </button>
        <mat-menu #menu="matMenu">
            <button mat-menu-item>
            <mat-icon>edit</mat-icon>
            <span>Editer la publication</span>
            </button>
            <button mat-menu-item>
            <mat-icon>delete</mat-icon>
            <span>Supprimer la publication</span>
            </button>
        </mat-menu>
    </mat-card-header>    
    <mat-card-content>
        <img mat-card-image *ngIf="post.imageUrl as imageUrl" [src]="imageUrl" [alt]="post.text">
        <!-- use innerText attribute to display correctly special characters (like \n or \r) -->
        <div class="post-content" [innerText]="shortenText ? (post.text | shorten: SHORTEN_TEXT_SIZE) : post.text"></div>
        <span class="see-more-button" (click)="onSeeMoreButtonClicked()" *ngIf="shortenButton">{{ shortenText ? "Voir plus" : "Voir moins" }}</span>
    </mat-card-content>
    <!-- <mat-card-actions>
        <app-comments [comments]="post.comments" (newComment)="onNewComment($event)"></app-comments>
    </mat-card-actions> -->
</mat-card>